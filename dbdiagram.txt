Table iyagi {
  id uuid [primary key, not null]
  title varchar [not null]
  color varchar [not null]
  created_at timestamp [not null]
  updated_at timestamp [not null]
  deleted_at timestamp
}

Table episode {
  id uuid [primary key, not null]
  iyagi_id uuid [not null]
  title varchar [not null]
  description varchar
  rep_cut_asset_id varchar
  created_at timestamp [not null]
  updated_at timestamp [not null]
  deleted_at timestamp
}

Table scene {
  id uuid [primary key, not null]
  episode_id uuid [not null]
  title varchar [not null]
  sequence integer [not null]
  description varchar
  created_at timestamp [not null]
  updated_at timestamp [not null]
  deleted_at timestamp
}

Table cut {
  id uuid [primary key, not null]
  scene_id uuid [not null]
  sequence integer [not null]
  description varchar
  rep_image_asset_id uuid
  created_at timestamp [not null]
  updated_at timestamp [not null]
  deleted_at timestamp
}

Table character {
  id uuid [primary key, not null]
  iyagi_id uuid [not null]
  name varchar [not null]
  feature varchar
  personality varchar
  created_at timestamp [not null]
  updated_at timestamp [not null]
  deleted_at timestamp
}

Table character_preview {
  id uuid [primary key, not null]
  character_id uuid [not null]
  asset_id uuid [not null]
}

Table asset {
  id uuid [primary key, not null]
  iyagi_id uuid [not null]
  type varchar [not null]
  model_type varchar [not null]
  model_name varchar [not null]
  metadata json [not null]
  input text [not null]
  output json

  created_at timestamp [not null]
  updated_at timestamp [not null]
  deleted_at timestamp
}

Table cut_image_asset {
  id uuid [primary key, not null]
  cut_id uuid [not null]
  asset_id uuid [not null]
  //isPinned boolean
  //isFavorite : 상단 노출, 좋아요에 대한 디테일 정의
  url varchar [not null]
}

Table cut_video_asset {
  id uuid [primary key, not null]
  cut_id uuid [not null]
  asset_id uuid [not null]
  //영상 관련 컬럼 추가
  url varchar [not null]
}

Table character_asset {
  id uuid [primary key, not null]
  character_id uuid [not null]
  asset_id uuid [not null]
  shot_type varchar
  url varchar [not null]
  //isPinned boolean
  //isFavorite : 상단 노출, 좋아요에 대한 디테일 정의
}

Table conversation {
  id uuid [primary key, not null]
  episode_id uuid [not null]
  cut_id uuid [not null]
  charactor_id uuid [not null]
  //만약 각각의 요소에 연결된 대화를 표현하기 위함이라면
  //ex) episode : 1, cut : null, charactor : null
  //중간 테이블로 분리하는게 더 정규화된 테이블임
  
  title varchar [not null]

  created_at timestamp [not null]
  updated_at timestamp [not null]
  deleted_at timestamp
}

Ref: iyagi.id < episode.iyagi_id
Ref: episode.id < scene.episode_id
Ref: scene.id < cut.scene_id

Ref: iyagi.id < character.id
Ref: character.id < character_asset.character_id

Ref : character.id < character_preview.character_id
Ref : asset.id < character_preview.asset_id

Ref : cut.id < cut_image_asset.cut_id
Ref : cut.id < cut_video_asset.cut_id

Ref: asset.id - character_asset.asset_id
Ref: asset.id - cut_image_asset.asset_id
Ref: asset.id - cut_video_asset.asset_id

Ref : asset.id < cut.rep_image_asset_id

Ref : episode.id < conversation.episode_id
Ref : cut.id < conversation.cut_id
Ref : character.id < conversation.charactor_id